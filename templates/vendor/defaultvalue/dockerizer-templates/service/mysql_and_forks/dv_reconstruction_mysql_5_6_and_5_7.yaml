version: '3.7'

###############################
#         CAUTION!!!          #
# NOT FOR USE IN TEMPLATES!!! #
###############################
services:
  mysql:
    container_name: database
    image: {{image}}
    restart: always
    {{environment}}
    volumes:
      # MySQL 5.6, 5.7 > /etc/mysql/my.cnf > !includedir /etc/mysql/mysql.conf.d/
      # This dir includes a configuration file that we must override to change datadir
      - './mysql/my.cnf:/etc/mysql/mysql.conf.d/zzz-my.cnf:ro'
      - ./mysql_initdb:/docker-entrypoint-initdb.d:ro