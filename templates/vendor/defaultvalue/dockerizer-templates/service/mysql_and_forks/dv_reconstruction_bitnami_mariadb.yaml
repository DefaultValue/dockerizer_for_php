version: '3.7'

###############################
#         CAUTION!!!          #
# NOT FOR USE IN TEMPLATES!!! #
###############################
services:
  mysql:
    container_name: database
    # bitnami/mariadb:{{mariadb_version}}
    image: {{image}}
    restart: always
    {{environment}}
    volumes:
      # Bitnami's images do not create a data volume in their entrypoint scripts! Volume is required to save data.
      # Thus, there is also no need to set `datadir` for Bitnami images to commit DB data
      - './mysql/my.cnf:/opt/bitnami/mariadb/conf/my_custom.cnf:ro'
      - ./mysql_initdb:/docker-entrypoint-initdb.d:ro