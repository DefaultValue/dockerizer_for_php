app:
  description: Magento 2.3.4
  supported_packages: # get package info from composer.json to validate that template is applied to the correct app version
    # Use composer semantic versioning https://getcomposer.org/doc/articles/versions.md
    magento/project-community-edition: '>=2.3.4 <2.3.5'
    magento/project-enterprise-edition: '>=2.3.4 <2.3.5'
    magento/product-community-edition: '>=2.3.4 <2.3.5'
    magento/product-enterprise-edition: '>=2.3.4 <2.3.5'
  # Global parameters that are passed to every service
  parameters:
    environment: 'prod'
  composition:
    required:
      apache:
        php_7_3_apache:
          service: dv_php_apache
          dev_tools: dv_php_apache_dev_tools
          parameters:
            composer_version: 1
            php_version: '7.3'
            web_root: 'pub/'
        php_7_2_apache:
          service: dv_php_apache
          dev_tools: dv_php_apache_dev_tools
          parameters:
            composer_version: 1
            php_version: '7.2'
            web_root: 'pub/'
      database:
        mysql_5_7_persistent:
          service: dv_mysql_persistent
          # Service-specific parameters
          parameters:
            mysql_version: '5.7'
        mysql_5_6_persistent:
          service: dv_mysql_persistent
          parameters:
            mysql_version: '5.6'
        mariadb_10_2_persistent:
          service: dv_mariadb_persistent
          parameters:
            mariadb_version: '10.2'
        mariadb_10_1_persistent:
          service: dv_mariadb_persistent
          parameters:
            mariadb_version: '10.1'

    optional:
      redis:
        redis_5_0:
          service: dv_redis
          parameters:
            redis_version: '5.0'
      elasticsearch:
        elasticsearch_5_6_16:
          service: elasticsearch
          parameters:
            elasticsearch_version: '5.6.16-alpine'
        elasticsearch_5_6_16_persistent:
          service: elasticsearch_persistent
          parameters:
            elasticsearch_version: '5.6.16-alpine'
        elasticsearch_6_8_23:
          service: elasticsearch
          parameters:
            elasticsearch_version: '6.8.23'
        elasticsearch_6_8_23_persistent:
          service: elasticsearch_persistent
          parameters:
            elasticsearch_version: '6.8.23'
# @TODO: what about cron jobs service?