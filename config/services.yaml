imports:
  - { resource: 'extends/*.yaml' }

services:
  _defaults:
    autowire: true
    autoconfigure: true
    bind:
      # Dockerizer project directory. Use this patch for filesystem operations
      string $projectDir: '%kernel.project_dir%'
      # Relative to the current project directory
      string $compositionTemplatesDir: '/templates/composition/'

# Uncomment when all old commands and services are rewritten
#  DefaultValue\Dockerizer\:
#    resource: '../src/*'
  DefaultValue\Dockerizer\Console\:
    resource: '../src/Console/*'
  DefaultValue\Dockerizer\Docker\:
    resource: '../src/Docker/*'

  DefaultValue\Dockerizer\Console\Command\:
    resource: '../src/Console/Command/*'
    tags: [ 'console.command' ]

  DefaultValue\Dockerizer\Console\CommandArgument\:
    resource: '../src/Console/CommandArgument/*'
    tags: [ 'console.command.argument' ]

  DefaultValue\Dockerizer\Console\CommandOption\:
    resource: '../src/Console/CommandOption/*'
    tags: [ 'console.command.option' ]

#  app.dotenv:
#    class: Symfony\Component\Dotenv\Dotenv

#  local_infrastructure:
#    composition: ~/misc/apps/docker-infrastructure/local_infrastructure/docker-compose.yml
#    default_network: infrastructure_network

